@page
@model WebApplication1.Pages.IndexModel
@using System.Globalization

<h1>–ò–ø–æ—Ç–µ—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h1>

<form method="post">
    <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</label><br />
    <input asp-for="Input.PropertyPrice" step="0.01" type="number" /><br /><br />

    <label>–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å</label><br />
    <input asp-for="Input.DownPayment" step="0.01" type="number" /><br /><br />

    <label>–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (%)</label><br />
    <input asp-for="Input.InterestRate" step="0.01" type="number" /><br /><br />

    <label>–°—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞ (–ª–µ—Ç)</label><br />
    <input asp-for="Input.Years" type="number" /><br /><br />

    <label>–¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞</label><br />
    <select asp-for="Input.PaymentType">
        <option value="annuity">–ê–Ω–Ω—É–∏—Ç–µ—Ç–Ω—ã–π</option>
        <option value="diff">–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</option>
    </select>
    <br /><br />

    <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
    <div class="mt-4">
        <a asp-page="/History/Index" class="btn btn-outline-primary">üìã –ú–æ—è –∏—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤</a>
    </div>
</form>

@if (Model.Result != null)
{
    var ru = new CultureInfo("ru-RU");

    <hr />
    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
    <p>–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç—ë–∂: <b>@Math.Round(Model.Result.MonthlyPayment).ToString("N0", ru) ‚ÇΩ</b></p>
    <p>–û–±—â–∞—è —Å—É–º–º–∞ –≤—ã–ø–ª–∞—Ç: <b>@Math.Round(Model.Result.TotalPayment).ToString("N0", ru) ‚ÇΩ</b></p>
    <p>–ü–µ—Ä–µ–ø–ª–∞—Ç–∞: <b>@Math.Round(Model.Result.Overpayment).ToString("N0", ru) ‚ÇΩ</b></p>

    <div class="mt-3">
        <p>
            <a href="/History" class="btn btn-outline-primary">üìã –ü–µ—Ä–µ–π—Ç–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è PDF</a>
        </p>
    </div>
}